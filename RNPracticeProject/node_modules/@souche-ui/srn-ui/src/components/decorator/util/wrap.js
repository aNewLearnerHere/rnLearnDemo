
import React from 'react';
import {
    View,
    StyleSheet
} from 'react-native';

const styles = StyleSheet.create({
    container: {
        flex: 1
    }
});

export default function(target, EmitToComponent) {
    const render = target.prototype.render;
    const _render = function() {
        return (
            <View style={styles.container}>
                {render && render.apply(this, arguments)}
                {EmitToComponent(this._emitterDecorator)}
            </View>
        );
    };

    if (target.prototype._isDecorator === true) {
        target.prototype.render = _render;
        return target;
    }

    class _ extends target {}
    _.prototype._isDecorator = true;
    _.prototype.render = _render;

    return _;
}
