import React from 'react';
import { View, StyleSheet } from 'react-native';
import { Toast } from '../../SRN';

export default function toast(target) {
    /*
    * 改写 target 的 render 方法
    * */
    const render = target.prototype.render;
    const _render = function () {
        return (
            <View style={styles.container}>
                {render.apply(this)}
                <Toast ref={(component) => {this.toast1 = component;}}/>
            </View>
        );
    };
    target.prototype.render = _render;

    /*
    * target 的原型上挂上 show 方法
    * */
    target.prototype.toast = function (value, position, duration, toastStyle) {
        this.toast1.show(value, position, duration, toastStyle);
    };
}

const styles = StyleSheet.create({
    container: {flex: 1}
});