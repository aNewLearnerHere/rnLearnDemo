/**
 * 此静态组件原本用于避免导航条在跳转的过程中对视图栈内视图的重复渲染
 * ReactNative 最新版本内部的导航模块自动加入了此优化
 * 目前此组件仅用于触发页面的激活与失活事件
 */

import React from 'react';

class StaticComponent extends React.Component {

    componentWillReceiveProps (nextProps) {

        if (nextProps.scene.isActive === false &&
            this.props.scene.isActive === true) {
            nextProps.scene.route.emitter.emit('disappear');
        } else if (nextProps.scene.isActive === true &&
            this.props.scene.isActive === false) {
            nextProps.scene.route.emitter.emit('appear');
        }
    }

    shouldComponentUpdate(nextProps) {
        return nextProps.scene.isActive || this.props.scene.isActive;
    }

    render() {
        return this.props.children;
    }
}

export default StaticComponent;