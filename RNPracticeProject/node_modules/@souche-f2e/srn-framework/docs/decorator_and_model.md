# Model验证和装饰器（注解）

SRNModel 核心提供两个功能：数据映射 和 数据校验。

使用：

```javascript
var carModel = new CarModel();
carModel.__map({
    title:'车辆标题',
    price: '20_$kw'
})
console.log(carModel);
```

内置一个 __map 方法，会根据 model 的定义 和 参数给予的数据自动将数据映射到当前实例上。

在定义的时候，注意有几个装饰器可用，分别为：

```
@Unit         // 单位声明和转换，需与服务端配合。
@Check        // 类型检查，如果赋值类型与定义的类型不符，会报警告。
@ServerName   // 服务端字段名，前后端字段名不一致时可以用这个来声明字段对应到服务端的哪个字段。
```

例如：

```javascript
import {
    SRNModel,
    Unit,
    UnitType,
    Check,
    CheckType,
    ServerName
} from '@souche-f2e/srn-framework';
import { observable,computed } from 'mobx';

class CarModel extends SRNModel {
    /**
     * 价格
     * @type {number}
     */
    @observable
    @Check(CheckType.Number)
    @Unit(UnitType.PRICE_UNIT_WY)
    price = 0;

    /**
     * 里程
     * @type {number}
     */
    @observable
    @Check(CheckType.Number)
    @Unit(UnitType.MILEAGE_UNIT_KM)
    mileage = 0;

    /**
     * 标题
     * @type {string}
     */
    @observable
    @Check(CheckType.String)
    @ServerName('model')
    title = '';

    /**
     * 卖家名
     * @type {string}
     */
    @observable
    @Check(CheckType.String)
    @ServerName('seller_name')
    sellerName = '';
}

export default  CarModel;
```