export default function distance (value, type) {
    let matches = (value + '').match(/([0-9.]*)_\$(.+)$/);
    // 如果传进来的已经是元数据
    let v;
    if (matches) {
        let server_distance = matches[1];
        let unit = matches[2];
        let real_km = 0;
        switch (unit) {
            case 'km':
                real_km = server_distance * 1;
                break;
            case 'wkm':
                real_km = server_distance * 10000;
                break;
            case 'm':
                real_km = server_distance / 1000;
                break;
            default:
                real_km = server_distance * 1;
                break;
        }
        switch (type) {
            case 'wkm':
                v = Number(real_km / 10000);
                break;
            case 'km':
                v = Number(real_km * 1);
                break;
            case 'm':
                v = Number(real_km * 1000);
                break;
            default:
                v = Number(real_km);
                break;
        }
    } else {
        v = Number(value);
    }
    return v;
};

